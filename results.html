<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Euro 2024 Results and Predictions Comparison</title>
    <style>
        body {
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            margin: 10px;
            background-color: #1e1e1e;
            color: #7c7a7a;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10px;
            vertical-align: top;
            justify-content: center;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #333333;
        }
        .flag {
            height: 20px;
            width: 30px;
            margin-right: 10px;
            vertical-align: middle;
        }
        .group-title {
            text-align: left;
            margin-top: 10px;
            font-size: 15px;
            font-weight: bold;
            clear: both;
            display: flex;
            justify-content: space-between;
        }
        .highlight {
            background-color: #013f01; /* Light green */
        }
        .team-cell {
            text-align: left;
        }
        hr {
            border: 0.5px solid #444444;
            border-width: 2px;
        }
        .button-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .logo-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .form-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
        }
        .form-container div {
            display: flex;
            justify-content: left;
            align-items: left;
        }
        .form-container label {
            width: 150px;
        }
    </style>
</head>
<body>

    <div class="logo-container">
        <img src="https://seeklogo.com/images/U/uefa-euro-2024-logo-124EEA67D8-seeklogo.com.png" alt="Euro 2024 Logo" style="width:200px;">
    </div>
    <h1>Euro 2024 Results and Predictions Comparison</h1>
    <div class="form-container">
        <div>
            <label for="participantDropdown">Select Participant:</label>
            <select id="participantDropdown" onchange="loadParticipantPredictions()">
                <!-- Options will be populated dynamically -->
            </select>
        </div>
    </div>

    <hr>

    <div id="results-container">
        <!-- Results tables will be generated here dynamically -->
    </div>

    <script>
        const csvFiles = ['Nima_N.csv', 'Ramin_R.csv']; // Add more file names as needed

        const flags = {
            'Germany': 'https://flagcdn.com/w20/de.png',
            'Scotland': 'https://flagcdn.com/w20/gb-sct.png',
            'Hungary': 'https://flagcdn.com/w20/hu.png',
            'Switzerland': 'https://flagcdn.com/w20/ch.png',
            'Spain': 'https://flagcdn.com/w20/es.png',
            'Croatia': 'https://flagcdn.com/w20/hr.png',
            'Italy': 'https://flagcdn.com/w20/it.png',
            'Albania': 'https://flagcdn.com/w20/al.png',
            'Serbia': 'https://flagcdn.com/w20/rs.png',
            'England': 'https://flagcdn.com/w20/gb-eng.png',
            'Slovenia': 'https://flagcdn.com/w20/si.png',
            'Denmark': 'https://flagcdn.com/w20/dk.png',
            'Poland': 'https://flagcdn.com/w20/pl.png',
            'Netherlands': 'https://flagcdn.com/w20/nl.png',
            'Austria': 'https://flagcdn.com/w20/at.png',
            'France': 'https://flagcdn.com/w20/fr.png',
            'Romania': 'https://flagcdn.com/w20/ro.png',
            'Ukraine': 'https://flagcdn.com/w20/ua.png',
            'Belgium': 'https://flagcdn.com/w20/be.png',
            'Slovakia': 'https://flagcdn.com/w20/sk.png',
            'Turkey': 'https://flagcdn.com/w20/tr.png',
            'Georgia': 'https://flagcdn.com/w20/ge.png',
            'Portugal': 'https://flagcdn.com/w20/pt.png',
            'Czechia': 'https://flagcdn.com/w20/cz.png'
        };

        window.onload = function() {
            populateParticipantDropdown();
        };

        function populateParticipantDropdown() {
            const dropdown = document.getElementById('participantDropdown');
            csvFiles.forEach(file => {
                const option = document.createElement('option');
                option.value = file;
                option.text = file.replace('.csv', '').replace('_', ' ');
                dropdown.appendChild(option);
            });
        }

        async function loadCSV(file) {
            const response = await fetch(file);
            const data = await response.text();
            return data;
        }

        function parseCSV(data) {
            const rows = data.split('\n').map(row => row.split(','));
            return rows;
        }

        function createGroupTable(group) {
            return `
                <div class="group-title">Group ${group.toUpperCase()}</div>
                <table id="group-${group}">
                    <tr>
                        <th>Date</th>
                        <th>Actual Team 1</th>
                        <th>Actual Score 1</th>
                        <th>Actual Team 2</th>
                        <th>Actual Score 2</th>
                        <th>Predicted Score 1</th>
                        <th>Predicted Score 2</th>
                    </tr>
                </table>
            `;
        }

        function populateTable(group, actualResults, participantPredictions) {
            const table = document.getElementById('group-' + group);
            while (table.rows.length > 1) {
                table.deleteRow(1);
            }

            actualResults.forEach((result, index) => {
                const row = table.insertRow();
                row.insertCell(0).innerText = result[0];
                row.insertCell(1).innerHTML = `<img src="${flags[result[1].trim()]}" class="flag">${result[1]}`;
                row.insertCell(2).innerText = result[2];
                row.insertCell(3).innerHTML = `<img src="${flags[result[3].trim()]}" class="flag">${result[3]}`;
                row.insertCell(4).innerText = result[4];
                row.insertCell(5).innerText = participantPredictions[index][2];
                row.insertCell(6).innerText = participantPredictions[index][4];
            });
        }

        async function loadParticipantPredictions() {
            const participantFile = document.getElementById('participantDropdown').value;
            const actualResultsCSV = await loadCSV('Actual Results.csv');
            const participantCSV = await loadCSV(participantFile);

            const actualResults = parseCSV(actualResultsCSV);
            const participantPredictions = parseCSV(participantCSV);

            const resultsContainer = document.getElementById('results-container');
            resultsContainer.innerHTML = '';

            const groups = ['a', 'b', 'c', 'd', 'e', 'f'];
            groups.forEach(group => {
                resultsContainer.innerHTML += createGroupTable(group);
                const groupResults = actualResults.filter(row => row[0] && row[0].includes(`Group ${group.toUpperCase()}`));
                const groupPredictions = participantPredictions.filter(row => row[0] && row[0].includes(`Group ${group.toUpperCase()}`));
                populateTable(group, groupResults, groupPredictions);
            });
        }
    </script>
</body>
</html>
